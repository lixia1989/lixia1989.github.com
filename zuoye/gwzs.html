<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>官网作品展示</title>
	<link rel="stylesheet" href="">
	<style>
		*{ margin: 0; padding: 0; list-style: none; }
		body{ background:#ccc; }
		#box{ width:700px; height: 358px; margin: 100px auto;border:1px solid #000; position: relative;overflow: hidden; }
		#box ul{ position: absolute; left: 0; top:90px; width: 3000px;}
		#box ul li{ width: 260px; height: 179px; float: left; position: relative;}
		#box ul li img{ width: 260px; height: 179px; position: absolute; }
	</style>
	<script>
		window.onload=function(){
			var oBox = document.getElementById('box');
			var oUl = document.getElementById('oUl');
			var aLi = oUl.getElementsByTagName('li');
			var aImg = oUl.getElementsByTagName('img');
			var divC = oBox.offsetWidth/2;
			oUl.onmousedown=function(ev){
				var oEvent = ev||event;
				var disX = oEvent.clientX - oUl.offsetLeft;
				document.onmousemove=function(ev){
					var oEvent=ev||event;
					var l = oEvent.clientX-disX;
									
					if (l>divC-(0+0.5)*aLi[0].offsetWidth){
						l=divC-(0+0.5)*aLi[0].offsetWidth
					}if (l<divC-(aLi.length-1+0.5)*aLi[0].offsetWidth){
						l=divC-(aLi.length-1+0.5)*aLi[0].offsetWidth
					};
					oUl.style.left=l+'px';	
					setSize();
				};
				document.onmouseup = function(){
					document.onmouseup =document.onmousemove=null;
				}
				return false;
			}
			oUl.style.left=divC-(1+0.5)*aLi[0].offsetWidth+'px';
			function setSize(){
				for(var i=0; i<aLi.length; i++){
					var l= Math.abs(divC - oUl.offsetLeft - aLi[i].offsetLeft - aLi[i].offsetWidth/2);
					var scale=1-l/500;
					// console.log(scale)
					scale<0.5&&(scale=0.5);
					aImg[i].style.width=scale*520+'px';
					aImg[i].style.height=scale*358+'px';
					aImg[i].style.left=-(aImg[i].offsetWidth/2)/2+'px';
					aImg[i].style.top=-(aImg[i].offsetHeight/2)/2+'px';
					aImg[i].style.zIndex=scale*10000;
				}
			}
			setSize();
		}
	</script>
</head>
<body>
	<div id="box">
		<ul id="oUl">
			<li><img src="img3/1.jpg" alt=""></li>
			<li><img src="img3/2.jpg" alt=""></li>
			<li><img src="img3/3.jpg" alt=""></li>
			<li><img src="img3/4.jpg" alt=""></li>
			<li><img src="img3/5.jpg" alt=""></li>
			<li><img src="img3/6.jpg" alt=""></li>
			<li><img src="img3/7.jpg" alt=""></li>
			<li><img src="img3/8.jpg" alt=""></li>
		</ul>
	</div>
</body>
</html>